# AgentEval Environment Configuration
#
# Copy this file to `.env.live-demo` for AWS live demo or `.env` for local development.
# Do NOT commit real credentials; use AWS SSO, IAM roles, or credential provider chain.

# ============================================================================
# AWS Configuration
# ============================================================================
AWS_REGION=us-east-1
AWS_PROFILE=default

# Optional: Leave blank to use default credential provider chain
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_SESSION_TOKEN=

# ============================================================================
# DynamoDB Tables
# ============================================================================
AWS_DYNAMODB_CAMPAIGNS_TABLE=agenteval-campaigns
AWS_DYNAMODB_TURNS_TABLE=agenteval-turns
AWS_DYNAMODB_EVALUATIONS_TABLE=agenteval-evaluations
AWS_DYNAMODB_KNOWLEDGE_BASE_TABLE=agenteval-attack-knowledge

# ============================================================================
# S3 Buckets
# ============================================================================
# Replace {account-id} with your AWS account ID (12-digit number)
AWS_S3_RESULTS_BUCKET=agenteval-results-{account-id}
AWS_S3_REPORTS_BUCKET=agenteval-reports-{account-id}

# ============================================================================
# EventBridge
# ============================================================================
AWS_EVENTBRIDGE_BUS_NAME=agenteval

# ============================================================================
# Bedrock Models (Primary)
# ============================================================================
# Cross-region inference models use format: {region}.{model-id}
AWS_BEDROCK_PERSONA_MODEL=us.anthropic.claude-haiku-4-5-20251001-v1:0
AWS_BEDROCK_REDTEAM_MODEL=us.anthropic.claude-haiku-4-5-20251001-v1:0
AWS_BEDROCK_JUDGE_MODEL=us.amazon.nova-pro-v1:0

# ============================================================================
# Bedrock Models (Fallback)
# ============================================================================
AWS_BEDROCK_PERSONA_FALLBACK_MODEL=amazon.titan-text-lite-v1
AWS_BEDROCK_REDTEAM_FALLBACK_MODEL=amazon.titan-text-lite-v1
AWS_BEDROCK_JUDGE_FALLBACK_MODEL=amazon.titan-text-express-v1

# ============================================================================
# Bedrock Inference Profiles (Optional)
# ============================================================================
# Replace {region} and {account-id} with your values
# Format: arn:aws:bedrock:{region}:{account-id}:inference-profile/{profile-id}
AWS_BEDROCK_PERSONA_PROFILE_ARN=
AWS_BEDROCK_REDTEAM_PROFILE_ARN=
AWS_BEDROCK_JUDGE_PROFILE_ARN=

# ============================================================================
# Demo Configuration
# ============================================================================
DEMO_TARGET_URL=https://postman-echo.com/post
DEMO_FALLBACK_TARGET_URL=https://postman-echo.com/post
DEMO_PERSONA_MAX_TURNS=2
DEMO_REDTEAM_MAX_TURNS=3

# ============================================================================
# Observability
# ============================================================================
ENABLE_XRAY_TRACING=true
OTEL_COLLECTOR_ENDPOINT=http://localhost:4317
XRAY_DAEMON_ADDRESS=127.0.0.1:2000
ENABLE_TRACING=true
TRACE_SAMPLE_RATE=1.0

# ============================================================================
# Local Development (Optional)
# ============================================================================
ENVIRONMENT=development
LOG_LEVEL=INFO
API_BASE_URL=http://localhost:8000
API_KEY=dev-local-api-key
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
API_WORKERS=4
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true

# ============================================================================
# Service Limits and Timeouts
# ============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20
MAX_CONCURRENT_CAMPAIGNS=100
CAMPAIGN_TIMEOUT_MINUTES=60
TURN_TIMEOUT_SECONDS=30
TRACE_CACHE_TTL_MINUTES=5
TRACE_RETRIEVAL_TIMEOUT_SECONDS=10
ROOT_CAUSE_CONFIDENCE_THRESHOLD=0.7

# ============================================================================
# Security (Local Development Only)
# ============================================================================
SECRET_KEY=dev-local-secret
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================================================
# Metrics and Health Checks
# ============================================================================
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_HEALTH_CHECK=true
