<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Executive Summary - AgentEval</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .meta-banner {
            display: flex;
            justify-content: space-around;
            padding: 25px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            flex-wrap: wrap;
            gap: 15px;
        }

        .meta-item {
            text-align: center;
        }

        .meta-label {
            font-size: 0.85rem;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }

        .meta-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: #495057;
        }

        .executive-summary {
            padding: 40px;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            color: #212529;
            margin-bottom: 25px;
            padding-bottom: 12px;
            border-bottom: 3px solid #667eea;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-icon {
            font-size: 2rem;
        }

        .summary-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #495057;
            margin-bottom: 30px;
            text-align: justify;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-left: 5px solid #667eea;
            padding: 25px;
            border-radius: 8px;
            margin: 25px 0;
        }

        .highlight-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #495057;
            margin-bottom: 15px;
        }

        .highlight-content {
            font-size: 1rem;
            color: #6c757d;
            line-height: 1.7;
        }

        .key-findings {
            padding: 40px;
            background: #f8f9fa;
        }

        .findings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .finding-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border-top: 4px solid;
        }

        .finding-card.success {
            border-top-color: #28a745;
        }

        .finding-card.warning {
            border-top-color: #ffc107;
        }

        .finding-card.info {
            border-top-color: #17a2b8;
        }

        .finding-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .finding-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #495057;
            margin-bottom: 10px;
        }

        .finding-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #212529;
            margin-bottom: 8px;
        }

        .finding-description {
            font-size: 0.9rem;
            color: #6c757d;
            line-height: 1.5;
        }

        .recommendations {
            padding: 40px;
        }

        .recommendation-list {
            margin-top: 20px;
        }

        .recommendation-item {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }

        .recommendation-item:last-child {
            margin-bottom: 0;
        }

        .recommendation-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 12px;
        }

        .recommendation-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .recommendation-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #495057;
        }

        .recommendation-text {
            font-size: 1rem;
            color: #6c757d;
            line-height: 1.7;
            margin-left: 55px;
        }

        .conclusion {
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }

        .conclusion-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .conclusion-text {
            font-size: 1.1rem;
            line-height: 1.8;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
        }

        .action-buttons {
            margin-top: 30px;
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .action-button {
            display: inline-block;
            padding: 15px 35px;
            background: white;
            color: #667eea;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .action-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.3);
        }

        .action-button.secondary {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
        }

        .action-button.secondary:hover {
            background: rgba(255,255,255,0.3);
        }

        footer {
            padding: 30px;
            text-align: center;
            background: #f8f9fa;
            color: #6c757d;
            font-size: 0.9rem;
            border-top: 1px solid #e9ecef;
        }

        .badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-left: 10px;
        }

        .badge-success {
            background: #d4edda;
            color: #155724;
        }

        .badge-warning {
            background: #fff3cd;
            color: #856404;
        }

        .export-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            padding: 15px 30px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
            transition: all 0.3s;
        }

        .export-button:hover {
            background: #218838;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(40, 167, 69, 0.4);
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            .findings-grid {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Executive Summary</h1>
            <p>AgentEval Evaluation Results</p>
        </header>

        <div class="meta-banner">
            <div class="meta-item">
                <div class="meta-label">Report Date</div>
                <div class="meta-value">{{ generated_at }}</div>
            </div>
            <div class="meta-item">
                <div class="meta-label">Evaluation Period</div>
                <div class="meta-value">{{ evaluation_period }}</div>
            </div>
            <div class="meta-item">
                <div class="meta-label">Total Campaigns</div>
                <div class="meta-value">{{ total_campaigns }}</div>
            </div>
            <div class="meta-item">
                <div class="meta-label">Region</div>
                <div class="meta-value">{{ region | upper }}</div>
            </div>
        </div>

        <div class="executive-summary">
            <h2 class="section-title">
                <span class="section-icon">📊</span>
                Overview
            </h2>

            <p class="summary-text">
                {{ overview_text | default("This report presents a comprehensive analysis of the AgentEval multi-agent evaluation system's performance. The evaluation framework tested conversational AI systems using simulated user personas, red team adversarial testing, and automated quality assessment across multiple dimensions including accuracy, safety, and user experience.") }}
            </p>

            <div class="highlight-box">
                <div class="highlight-title">
                    Overall Performance
                    <span class="badge badge-{{ overall_status_class }}">{{ overall_status }}</span>
                </div>
                <div class="highlight-content">
                    The system achieved an overall quality score of <strong>{{ "%.1f" | format(overall_score * 100) }}%</strong>
                    across {{ total_turns }} conversation turns spanning {{ total_campaigns }} evaluation campaigns.
                    This performance indicates {{ performance_assessment | default("strong system capabilities with opportunities for targeted improvements") }}.
                </div>
            </div>
        </div>

        <div class="key-findings">
            <h2 class="section-title">
                <span class="section-icon">🎯</span>
                Key Findings
            </h2>

            <div class="findings-grid">
                <div class="finding-card success">
                    <div class="finding-icon">✅</div>
                    <div class="finding-title">Quality Score</div>
                    <div class="finding-value">{{ "%.1f" | format(overall_score * 100) }}%</div>
                    <div class="finding-description">
                        Average quality across all evaluation dimensions
                    </div>
                </div>

                <div class="finding-card success">
                    <div class="finding-icon">🎯</div>
                    <div class="finding-title">Success Rate</div>
                    <div class="finding-value">{{ "%.1f" | format(success_rate * 100) }}%</div>
                    <div class="finding-description">
                        {{ completed_turns }} out of {{ total_turns }} turns completed successfully
                    </div>
                </div>

                <div class="finding-card info">
                    <div class="finding-icon">🔍</div>
                    <div class="finding-title">Evaluations</div>
                    <div class="finding-value">{{ total_evaluations }}</div>
                    <div class="finding-description">
                        Total quality assessments performed across {{ total_metrics }} metrics
                    </div>
                </div>

                <div class="finding-card {% if failed_turns > 0 %}warning{% else %}success{% endif %}">
                    <div class="finding-icon">{% if failed_turns > 0 %}⚠️{% else %}✅{% endif %}</div>
                    <div class="finding-title">Failed Turns</div>
                    <div class="finding-value">{{ failed_turns }}</div>
                    <div class="finding-description">
                        Conversations requiring attention or improvement
                    </div>
                </div>
            </div>
        </div>

        <div class="recommendations">
            <h2 class="section-title">
                <span class="section-icon">💡</span>
                Recommendations
            </h2>

            <div class="recommendation-list">
                {% for recommendation in recommendations %}
                <div class="recommendation-item">
                    <div class="recommendation-header">
                        <div class="recommendation-number">{{ loop.index }}</div>
                        <div class="recommendation-title">{{ recommendation.title }}</div>
                    </div>
                    <div class="recommendation-text">{{ recommendation.text }}</div>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="conclusion">
            <div class="conclusion-title">Next Steps</div>
            <p class="conclusion-text">
                {{ conclusion_text | default("The evaluation results demonstrate strong foundational performance with clear opportunities for enhancement. We recommend addressing the identified areas for improvement and conducting follow-up evaluations to measure progress. Continue monitoring system performance and iterating based on real-world feedback.") }}
            </p>
            <div class="action-buttons">
                <a href="dashboard.html" class="action-button">View Dashboard</a>
                <a href="#" class="action-button secondary" onclick="window.print(); return false;">Export Report</a>
            </div>
        </div>

        <footer>
            <p>Generated by <strong>AgentEval</strong> - AWS AI Agent Global Hackathon 2025</p>
            <p>Powered by Amazon Bedrock (Claude Haiku 4.5, Nova Pro) + OpenTelemetry</p>
        </footer>
    </div>

    <button class="export-button" onclick="window.print()">Export PDF</button>
</body>
</html>
